#!/usr/bin/env ruby 

require 'highline/import'

file = '.key';

key = YAML::load(File.open(file)); 

password = ask("Enter password: ") { |q| q.echo = '*' }

puts password

output = password.split('').map do |char|
  if key.has_key? char
    key[char]
  else
    char
  end
end.join

puts output
